Needs Doing
-----------------------------------------------------------------
For passive abilities have instead of just damage, damage, base damage, multiplier, and added damage (not affected by multiplier). Also add more TriggerPassives in Unit to avoid dummy variables.
Add target unit to BeforeAttack. As a consequence we can do Regicide right. There may be code elsewhere like in Leadership that needs scraping.
Ability costs probably need to be raised. Movement is pretty balanced but the rest is questionably low.
Before and after ability needs to be called outside the ability use. They should also be called when an attack or heal is used.
The host of a game needs to dish out a random seed for the Random in GameState which needs to be made in GameState on joining.

Extras
-----------------------------------------------------------------
Autocomplete in Command Parser needs to be implemented.
Create a wrapper for StreamWriter and StreamReader that encrypts things or see if there's one built into the language.
Add taboos and requirements to abilities and the appropriate checks to Unit.

Game Rules
-----------------------------------------------------------------
All pieces move each turn and orders are decided diplomacy style.
Turn order proceeds as follows: give orders, movement, abilities/attacks, post combat movement
Only 1 non-passive ability/attack can be used per turn. For instance, you can not both heal and attack on the same turn. If a healer is attacked it does not retaliate but the ability is still used.
You use gold you get from matches to buy more land (maxes out of course) and buy structures. Noobs start with some gold and people are generally matched up based on rank so this shouldn't be too much of a problem.
New units should be recruitable with gold (indpendent of using them to battle and noobs get a full necessary set to begin with).
Units should be upgradable (to a short extent) with gold.
In all maps built there is the requirement that generic units must be able to cross from any tile in the back row to any tile in the front row.
Maps also have a purchase limit for how much stuff they can add to them. This is relative to the size of the map.
If a player tries to make an invalid move (such as moving two pieces to the same space) the relevant pieces do not move and the unit chooses the hold command (which does not retaliate).
You can not move and use an ability (although mounted units can use an ability and then move or just double move) but units do use their attack at range 0 when moving and geting involved in combat (unless punished for an invalid move with a hold command).
Win conditions are kill the leader, opponent surrenders or agree to tie.

Abilities
-----------------------------------------------------------------
#Leadership (The unit opponents must defeat to knock your forces out of the game; this always results in a win 1v1 but other opponents may be left in larger matches; only 1 unit with this may be brought into any battle; takes half damage)
#Movement Points (Grid based movement like Navia Drop; 4 are provided for free; to purchase a movement location you must have one of the cardinal directions unlocked first)
#HP (1 is provided for free)
#Regeneration (1HP per level; must stand still to use)
#Heal (Cleric Power, only affects others which must be adjacent (heals all adjacent ally units). Comes in multiple levels with each level healing one HP. Also cures poison.)
#Ranged Heal (As Ranged Attack but for the Heal ability; Heal is not a prerequisite; only heals the target; Can not heal self)
#Attack Damage (1 is provided for free)
#Power Attack (Doubles a unit's strength if it does not move; mostly used for bluffing and forced moves and should be relatively cheap)
#Ranged Attack (Must buy attack locations seperate from movement; unlike movement no prerequisite locations are needed to buy ranged attack locations; some are provided for free; at first level range is 1 tiles and at each multiple of 10 range increases by 1)
#Ranged Protection (half damage from ranged attacks)
#Mount (allows unit to move twice, once normally and once after combat but can not take a piece in post combat)
#Mount Protection (half damage from mounted attacks)
#Pegasus Mount (As mount but flies, can not have ranged protection, and takes half damage from non-ranged, non-flying units rounded down; enemy non-flying units do not obstruct this unit's movement; if it matters, being mounted and flying are both true for pegasus riders)
#Pegasus Protection (half damage from pegasus attacks; stacks with mount protection)
#Necromancer (Pieces taken by this piece rejoin on your side adjacent to the necromancer with half of their max health rounded down; units with only 1 hp can not be zombified; zombies heal for half and take 3/4 damage except from marine units)
#Semi-Aquatic (Allows the piece to move through water)
#Hold The Line (Unit takes half damage if it does not move)
#Retreat (If the unit would die and it is not at 1HP it instead lives with 1 health)
#Poison (Any unit attacked by this unit is poisoned and takes 1 damage per turn regardless of defenses)
#Camoflage (Unit can only be seen, by opponents, by adjacent units)
#See Invisible (Can see camoflaged units)
#Teamwork (If an allied unit is adjacent to this unit then this unit's strength is multiplied by 1.25 for each adjacent unit)
#Regicide (Opposing units with leadership take triple damage and do not get the leadership half damage protection)
#Scout (Increases sight distance by 1 per level; 3 are provided for free)

Copy-Paste Section
-----------------------------------------------------------------
